@startuml Film Sonar - Arquitectura General

!theme plain
skinparam backgroundColor #FEFEFE
skinparam roundcorner 20
skinparam componentStyle rectangle

package "üåê Capa de Presentaci√≥n" {
  [Controllers Web] as WebControllers
  [Controllers API] as APIControllers
  [Views] as Views
  [JavaScript] as JS
}

package "‚öôÔ∏è Capa de Servicios" {
  [RecommendationService] as RecService
  [MovieRepository] as MovieRepo
  [Authentication] as Auth
}

package "üéØ Capa de Estrategias" {
  [GenreStrategy] as GenreStrat
  [DirectorStrategy] as DirectorStrat
}

package "üóÑÔ∏è Capa de Datos" {
  [Models] as Models
  [Database] as DB
}

' Relaciones entre capas
WebControllers --> RecService
WebControllers --> MovieRepo
APIControllers --> RecService
APIControllers --> MovieRepo
APIControllers --> Auth

RecService --> GenreStrat
RecService --> DirectorStrat
RecService --> Models

MovieRepo --> Models
Models --> DB

Views --> WebControllers
JS --> APIControllers

note as N1
  <b>Arquitectura en Capas:</b>
  ‚Ä¢ Separaci√≥n clara de responsabilidades
  ‚Ä¢ F√°cil mantenimiento y testing
  ‚Ä¢ Escalabilidad del sistema
end note

note as N2
  <b>Flujo de Datos:</b>
  1. Usuario interact√∫a con Views/JS
  2. Controllers procesan la solicitud
  3. Services ejecutan l√≥gica de negocio
  4. Models acceden a la base de datos
end note

@enduml 